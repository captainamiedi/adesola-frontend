{"version":3,"file":"static/js/129.889e4395.chunk.js","mappings":"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","sources":["Pages/Login.jsx","Utils/utils.js"],"sourcesContent":["/* eslint-disable react/no-unescaped-entities */\r\nimport React, { useState } from \"react\";\r\nimport {Box, Button, CircularProgress} from \"@mui/material\";\r\nimport Card from \"@mui/material/Card\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Divider from \"@mui/material/Divider\";\r\nimport InputAdornment from \"@mui/material/InputAdornment\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { TextValidator, ValidatorForm } from \"react-material-ui-form-validator\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\r\nimport { useThemeMode } from \"../Utils/utils\";\r\nimport'../index.css'\r\n\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n// import { Button, CircularProgress } from \"@mui/material\";\r\n\r\nconst initialState = {\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\nconst supabase = createClient(process.env.REACT_APP_Project_URL, process.env.REACT_APP_Public_Anon_Key)\r\n\r\nfunction Login() {\r\n  const [userInfo, setUserInfo] = useState(initialState);\r\n  const [visible, setVisible] = useState(false);\r\n  const [loading, setLoading] = useState(false)\r\n  // const {loading} = useSelector((state) => state.auth)\r\n  const navigate = useNavigate()\r\n  const handleSubmit = async () => {\r\n    setLoading(true)\r\n    const { email, password } = userInfo;\r\n    const { data, error } = await supabase.auth.signInWithPassword({\r\n      email,\r\n      password,\r\n    })\r\n    setLoading(false)\r\n    localStorage.setItem('userToken', data.session.access_token)\r\n    localStorage.setItem('userData', data.user)\r\n    navigate('/chat')\r\n  };\r\n  const handleVisibility = () => {\r\n    if (!visible) {\r\n      setVisible(true);\r\n    } else {\r\n      setVisible(false);\r\n    }\r\n  };\r\n  const handleChange = ({ target: { name, value } }) => {\r\n    let temp = { ...userInfo };\r\n    temp[name] = value;\r\n    setUserInfo(temp);\r\n  };\r\n  const { themeColor } = useThemeMode()\r\n  return (\r\n    <div style={{ backgroundColor: \"#1A2038\" }} className=\"h-screen\tflex justify-center\">\r\n      <Box\r\n        className=\"flex justify-center items-center  min-h-full-screen\"\r\n        sx={{ margin: 'auto 0' }}\r\n      >\r\n        <Card sx={{ width: {md: 500, sm: '100%'}, margin: \"1rem\", padding: '1.5rem' }}>\r\n          <Grid container>\r\n            <Grid item lg md sm xs>\r\n              {/* <Box\r\n                className=\"flex items-center justify-between px-8 pt-8\"\r\n                sx={{ columnGap: \"4rem\" }}\r\n              >\r\n                <img\r\n                  src='https://dev.churchpad.com/xMasterPortalLogosLoc/app_pdf_logos/app_250_1652976260_t0n9uo_my.png'\r\n                  alt=\"\"\r\n                  style={{ width: \"5rem\" }}\r\n                />\r\n                <span>\r\n                  <h3 style={{ color: `${themeColor}` }}>Adesola Chat Portal</h3>\r\n                </span>\r\n              </Box> */}\r\n              <div className=\"px-8 mt-5 pb-8\">\r\n                <h6 style={{ color: `${themeColor}` }} className=\" text-center pb-4\">\r\n                  Adesola Chat\r\n                </h6>\r\n                <Divider />\r\n              </div>\r\n              <ValidatorForm action=\"\" onSubmit={handleSubmit}>\r\n                <div className=\"mb-6 w-full\">\r\n                  <TextValidator\r\n                    \r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    label=\"Email\"\r\n                    onChange={handleChange}\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={userInfo.email}\r\n                    fullWidth\r\n                    validators={[\"required\", \"isEmail\"]}\r\n                    errorMessages={[\"this field is required\", \"email is not valid\"]}\r\n                  />\r\n\r\n                </div>\r\n                <div className=\"mb-3 w-full\">\r\n                  <TextValidator\r\n                    className=\"mb-3 w-full\"\r\n                    label=\"Password\"\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    onChange={handleChange}\r\n                    name=\"password\"\r\n                    fullWidth\r\n                    type={visible ? \"text\" : \"password\"}\r\n                    value={userInfo.password}\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <InputAdornment position=\"end\">\r\n                          <IconButton\r\n                            onClick={handleVisibility}\r\n                            aria-label=\"Toggle password visibility\"\r\n                          >\r\n                            {!visible ? <VisibilityOffIcon /> : <VisibilityIcon />}\r\n                          </IconButton>\r\n                        </InputAdornment>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div\r\n                    className=\"flex justify-between items-center mb-4 mt-4\"\r\n                    style={{ columnGap: \"2rem\" }}\r\n                  >\r\n                    <div className=\"relative w-full\">\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        disabled={loading}\r\n                        type=\"submit\"\r\n                        className=\"w-full capitalize\"\r\n                        sx={{textTransform: 'capitalize'}}\r\n                      >\r\n                        {loading ? 'Loading....': 'Sign In'}\r\n                      </Button>\r\n                      {/* {loading && (\r\n                        <CircularProgress\r\n                          size={24}\r\n                          sx={{\r\n                            position: \"absolute\",\r\n                            top: \"50%\",\r\n                            left: \"50%\",\r\n                            marginTop: -12,\r\n                            marginLeft: -12,\r\n                          }}\r\n                        />\r\n                      )} */}\r\n                    </div>\r\n                    </div>\r\n              </ValidatorForm>\r\n            </Grid>\r\n          </Grid>\r\n          <div className=\"flex\">\r\n            <p className=\"pr-4\">Don't have account?</p>\r\n              <Link to='/signup'>Sign up</Link>\r\n          </div>\r\n        </Card>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { useTheme } from '@mui/material/styles';\r\n// import { useSelector, shallowEqual } from 'react-redux'\r\nexport const useThemeMode = () => {\r\n    // const orgInfo = useSelector(\r\n    //   (state) => state.orgInfo.responseData,\r\n    //   shallowEqual\r\n    // );\r\n    const theme = useTheme();\r\n    if (theme.palette.type === \"dark\")\r\n      return {\r\n        isDarkMode: true,\r\n        themeColor: \"#fff\",\r\n      };\r\n    else\r\n      return {\r\n        isDarkMode: false,\r\n        theme: '#1A2038'\r\n        // themeColor: `${orgInfo?.colorThemes[1].primary}`,\r\n      };\r\n  };"],"names":["initialState","email","password","supabase","createClient","process","_useState","useState","_useState2","_slicedToArray","userInfo","setUserInfo","_useState3","_useState4","visible","setVisible","_useState5","_useState6","loading","setLoading","navigate","useNavigate","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$supabase$auth$","data","wrap","_context","prev","next","auth","signInWithPassword","sent","error","localStorage","setItem","session","access_token","user","stop","apply","arguments","handleChange","_ref2","_ref2$target","target","name","value","temp","_objectSpread","themeColor","useThemeMode","_jsx","style","backgroundColor","className","children","Box","sx","margin","_jsxs","Card","width","md","sm","padding","Grid","container","item","lg","xs","color","concat","Divider","ValidatorForm","action","onSubmit","TextValidator","variant","size","label","onChange","type","fullWidth","validators","errorMessages","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","VisibilityIcon","VisibilityOffIcon","columnGap","Button","disabled","textTransform","Link","to","useTheme","palette","isDarkMode","theme"],"sourceRoot":""}